  正在确定要还原的项目…
  所有项目均是最新的，无法还原。
  Luban.Core -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\src\Luban.Core\bin\Debug\net8.0\Luban.Core.dll
  Luban.Lua -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\src\Luban.Lua\bin\Debug\net8.0\Luban.Lua.dll
  Luban.DataLoader.Builtin -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\src\Luban.DataLoader.Builtin\bin\Debug\net8.0\Luban.DataLoader.Builtin.dll
  Luban.DataValidator.Builtin -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\src\Luban.DataValidator.Builtin\bin\Debug\net8.0\Luban.DataValidator.Builtin.dll
  Luban.Schema.Builtin -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\src\Luban.Schema.Builtin\bin\Debug\net8.0\Luban.Schema.Builtin.dll
  Luban.DataTarget.Builtin -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\src\Luban.DataTarget.Builtin\bin\Debug\net8.0\Luban.DataTarget.Builtin.dll
  Luban.IntegrationTests -> D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\tests\Luban.IntegrationTests\bin\Debug\net8.0\Luban.IntegrationTests.dll
D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\tests\Luban.IntegrationTests\bin\Debug\net8.0\Luban.IntegrationTests.dll (.NETCoreApp,Version=v8.0)的测试运行
VSTest 版本 18.0.1 (x64)

正在启动测试执行，请稍候...
总共 1 个测试文件与指定模式相匹配。
  失败 Luban.IntegrationTests.Tests.DiscoveredIntegrationTests.RunDiscoveredTest(testCase: collections) [116 ms]
  错误消息:
   Files do not match:
Expected: D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\tests\Luban.IntegrationTests\bin\Debug\net8.0\TestData\collections\expected\lua\schema.lua
Actual: C:\Users\User\AppData\Local\Temp\LubanTests\b555fb0a-1ed9-40b6-9063-37b18f974dc5\code\schema.lua

Differences:
Line 1:
  Expected: 
  Actual:   local setmetatable = setmetatable
Line 2:
  Expected: <missing>
  Actual:   local pairs = pairs
Line 3:
  Expected: <missing>
  Actual:   local tinsert = table.insert
Line 4:
  Expected: <missing>
  Actual:   local function get_map_size(m)
Line 5:
  Expected: <missing>
  Actual:   local n = 0
Line 6:
  Expected: <missing>
  Actual:   for _ in pairs(m) do
Line 7:
  Expected: <missing>
  Actual:   n = n + 1
Line 8:
  Expected: <missing>
  Actual:   end
Line 9:
  Expected: <missing>
  Actual:   return n
Line 10:
  Expected: <missing>
  Actual:   end
Line 11:
  Expected: <missing>
  Actual:   local enums =
Line 12:
  Expected: <missing>
  Actual:   {
Line 13:
  Expected: <missing>
  Actual:   }
Line 14:
  Expected: <missing>
  Actual:   local tables =
Line 15:
  Expected: <missing>
  Actual:   {
Line 16:
  Expected: <missing>
  Actual:   { name='TbQuest', file='tbquest', mode='map', index='id', value_type='Quest' },
Line 17:
  Expected: <missing>
  Actual:   }
Line 18:
  Expected: <missing>
  Actual:   local function InitTypes(methods)
Line 19:
  Expected: <missing>
  Actual:   local readBool = methods.readBool
Line 20:
  Expected: <missing>
  Actual:   local readByte = methods.readByte
Line 21:
  Expected: <missing>
  Actual:   local readShort = methods.readShort
Line 22:
  Expected: <missing>
  Actual:   local readFshort = methods.readFshort
Line 23:
  Expected: <missing>
  Actual:   local readInt = methods.readInt
Line 24:
  Expected: <missing>
  Actual:   local readFint = methods.readFint
Line 25:
  Expected: <missing>
  Actual:   local readLong = methods.readLong
Line 26:
  Expected: <missing>
  Actual:   local readFlong = methods.readFlong
Line 27:
  Expected: <missing>
  Actual:   local readFloat = methods.readFloat
Line 28:
  Expected: <missing>
  Actual:   local readDouble = methods.readDouble
Line 29:
  Expected: <missing>
  Actual:   local readSize = methods.readSize
Line 30:
  Expected: <missing>
  Actual:   local readString = methods.readString
Line 31:
  Expected: <missing>
  Actual:   local readList = methods.readList
Line 32:
  Expected: <missing>
  Actual:   local readArray = methods.readArray or readList
Line 33:
  Expected: <missing>
  Actual:   local readSet = methods.readSet
Line 34:
  Expected: <missing>
  Actual:   local readMap = methods.readMap
Line 35:
  Expected: <missing>
  Actual:   local readNullableBool = methods.readNullableBool
Line 36:
  Expected: <missing>
  Actual:   local beans = {}
Line 37:
  Expected: <missing>
  Actual:   do
Line 38:
  Expected: <missing>
  Actual:   local class = methods.getClass('Quest')
Line 39:
  Expected: <missing>
  Actual:   class._id = 78391490
Line 40:
  Expected: <missing>
  Actual:   class._type_ = 'Quest'
Line 41:
  Expected: <missing>
  Actual:   local id2name = { }
Line 42:
  Expected: <missing>
  Actual:   class._deserialize = function(bs)
Line 43:
  Expected: <missing>
  Actual:   local o = {
Line 44:
  Expected: <missing>
  Actual:   id = readInt(bs),
Line 45:
  Expected: <missing>
  Actual:   name = readString(bs),
Line 46:
  Expected: <missing>
  Actual:   rewards = readArray(bs, beans['Reward']._deserialize),
Line 47:
  Expected: <missing>
  Actual:   requirements = readMap(bs, readInt, readInt),
Line 48:
  Expected: <missing>
  Actual:   prerequisites = readList(bs, readInt),
Line 49:
  Expected: <missing>
  Actual:   }
Line 50:
  Expected: <missing>
  Actual:   setmetatable(o, class)
Line 51:
  Expected: <missing>
  Actual:   return o
Line 52:
  Expected: <missing>
  Actual:   end
Line 53:
  Expected: <missing>
  Actual:   beans[class._type_] = class
Line 54:
  Expected: <missing>
  Actual:   end
Line 55:
  Expected: <missing>
  Actual:   do
Line 56:
  Expected: <missing>
  Actual:   local class = methods.getClass('Reward')
Line 57:
  Expected: <missing>
  Actual:   class._id = -1850459313
Line 58:
  Expected: <missing>
  Actual:   class._type_ = 'Reward'
Line 59:
  Expected: <missing>
  Actual:   local id2name = { }
Line 60:
  Expected: <missing>
  Actual:   class._deserialize = function(bs)
Line 61:
  Expected: <missing>
  Actual:   local o = {
Line 62:
  Expected: <missing>
  Actual:   id = readInt(bs),
Line 63:
  Expected: <missing>
  Actual:   amount = readInt(bs),
Line 64:
  Expected: <missing>
  Actual:   }
Line 65:
  Expected: <missing>
  Actual:   setmetatable(o, class)
Line 66:
  Expected: <missing>
  Actual:   return o
Line 67:
  Expected: <missing>
  Actual:   end
Line 68:
  Expected: <missing>
  Actual:   beans[class._type_] = class
Line 69:
  Expected: <missing>
  Actual:   end
Line 70:
  Expected: <missing>
  Actual:   return { enums = enums, beans = beans, tables = tables }
Line 71:
  Expected: <missing>
  Actual:   end
Line 72:
  Expected: <missing>
  Actual:   return { InitTypes = InitTypes }
  堆栈跟踪:
     at Luban.IntegrationTests.Tests.IntegrationTestBase.AssertLuaMatch(String expectedPath, String actualPath) in D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\tests\Luban.IntegrationTests\Tests\IntegrationTestBase.cs:line 55
   at Luban.IntegrationTests.Tests.IntegrationTestBase.AssertFilesMatch(String expectedDir, String actualDir, String searchPattern) in D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\tests\Luban.IntegrationTests\Tests\IntegrationTestBase.cs:line 105
   at Luban.IntegrationTests.Tests.DiscoveredIntegrationTests.RunDiscoveredTest(TestCase testCase) in D:\projects\white-dragon-bevy\luban\.worktrees\roblox-ts-features\tests\Luban.IntegrationTests\Tests\DiscoveredIntegrationTests.cs:line 75
--- End of stack trace from previous location ---

失败!  - 失败:     1，通过:     4，已跳过:     0，总计:     5，持续时间: 1 s - Luban.IntegrationTests.dll (net8.0)
